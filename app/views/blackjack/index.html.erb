<section class="w-100 h-100 d-flex flex-column justify-content-between align-items-center">
  <h1 class="m-0">Black Jack Game</h1>

  <div class="game-status d-flex flex-row gap-3 w-100 px-5">
    <div class="player-status mx-auto border border-2 px-2">
      <p class="m-0">Vos cartes :</p>
      <div class="cards-container d-flex gap-2">
        <% @player_cards&.each do |card| %>
          <%= image_tag "cards/#{card}.png", class: "card-img", alt: card %>
        <% end %>
      </div>
      <p class="m-0">Votre score : <%= @player_score %></p>
    </div>
    <div class="player-status mx-auto border border-2 px-2">
      <p class="m-0">Cartes du banquier:</p>
      <div class="cards-container d-flex gap-2">
        <% @bank_cards&.each do |card| %>
          <%= image_tag "cards/#{card}.png", class: "card-img", alt: card %>
        <% end %>
      </div>
      <p class="m-0">Score du banquier: <%= @bank_score %></p>
    </div>
  </div>

<% if @result == nil %>
  <div class="game-options d-flex flex-row gap-3">
    <%= form_with(url: new_card_path, method: :post, local: true) do |f| %>
      <%= f.submit "New card", class: "btn btn-secondary retro blue" %>
    <% end %>
    <%= form_with(url: bank_new_card_path, method: :post, local: true) do |f| %>
      <%= f.submit "Stand", class: "btn btn-secondary retro blue" %>
    <% end %>
  </div>
<% else %>
    <p><%= @result.upcase %></p>
<% end %>
  <div class="game-options d-flex flex-row gap-3">
    <%= form_with(url: start_game_path, method: :post, local: true) do |f| %>
      <%= f.submit "Start again", class: "btn btn-secondary retro green" %>
    <% end %>

    <%= link_to "Back to games", root_path, class: "btn btn-secondary retro red" %>
  </div>
</section>
